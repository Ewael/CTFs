all: shellcode

INPUT=shellcode.asm

shellcode.o: $(INPUT)
	nasm -f elf64 $(INPUT)

shellcode: shellcode.o
	ld -o shellcode shellcode.o

raw:
	printf '\\x' && objdump -d shellcode | grep "^ " | cut -f2 | tr -d ' ' | tr -d '\n' | sed 's/.\{2\}/&\\x /g'| head -c-3 | tr -d ' ' && echo ' '

.PHONY: clean

clean:
	$(RM) shellcode shellcode.o
